% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/video.R
\name{detect_shot_changes}
\alias{detect_shot_changes}
\title{Detect shot changes in a sequence of images}
\usage{
detect_shot_changes(images, threshold = 0.5, bins = 16, downsample = 100)
}
\arguments{
\item{images}{A tl_images tibble.}

\item{threshold}{Threshold for detecting a cut. Higher = fewer cuts detected.
Default is 0.5. Values typically range from 0.3 (sensitive) to 0.8 (conservative).}

\item{bins}{Number of histogram bins per channel. Default 16.}

\item{downsample}{Max dimension for resizing before analysis. Default 100.}
}
\value{
A tibble with detected shot boundaries:
\itemize{
\item \code{shot_id}: Sequential shot number.
\item \code{start_frame}: First frame index of the shot.
\item \code{end_frame}: Last frame index of the shot.
\item \code{start_id}: ID of first frame.
\item \code{end_id}: ID of last frame.
\item \code{n_frames}: Number of frames in the shot.
}
}
\description{
Detects shot boundaries (cuts) by measuring color histogram differences
between consecutive frames. Uses a simple but effective algorithm:
computes normalized color histograms for each frame and measures the
chi-squared distance between consecutive frames.
}
\details{
The algorithm works by:
\enumerate{
\item Computing a color histogram for each frame (RGB channels combined).
\item Calculating chi-squared distance between consecutive frame histograms.
\item Marking frames where the distance exceeds the threshold as shot boundaries.
}

This method detects hard cuts well but may miss gradual transitions (dissolves, fades).
For gradual transitions, use a lower threshold or consider the frame difference values.
}
\seealso{
Other video: 
\code{\link{video_download}()},
\code{\link{video_extract_frames}()},
\code{\link{video_extract_shots}()},
\code{\link{video_get_info}()},
\code{\link{video_sample_frames}()}
}
\concept{video}
