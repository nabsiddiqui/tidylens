% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/audio.R
\name{extract_audio_features}
\alias{extract_audio_features}
\title{Extract audio features per frame/shot}
\usage{
extract_audio_features(tl_images, video_path = NULL, fps = NULL)
}
\arguments{
\item{tl_images}{A tl_images tibble with video timing information.
Should have either:
\itemize{
\item \code{start_time} and \code{end_time} columns (from video_extract_shots), or
\item Extracted from a video at known fps (uses frame index).
}}

\item{video_path}{Path to video file to extract audio from. If NULL,
attempts to use \code{video_source} column.}

\item{fps}{Frames per second used for extraction. Required if tl_images}
}
\value{
The input tibble with added columns:
\itemize{
\item \code{audio_rms}: Root mean square amplitude (loudness).
\item \code{audio_peak}: Peak amplitude in the segment.
\item \code{audio_zcr}: Zero crossing rate (correlates with noisiness).
\item \code{audio_silence_ratio}: Proportion of near-silent samples.
\item \code{audio_low_freq_energy}: Energy in low frequencies (< 500 Hz).
\item \code{audio_high_freq_energy}: Energy in high frequencies (> 4000 Hz).
\item \code{audio_spectral_centroid}: Center of mass of spectrum (brightness).
}
}
\description{
Extract audio features for each row in a tl_images tibble. Uses timing
information to align audio segments with visual frames.
}
\details{
\subsection{How it works (ELI5)}{

Each image frame represents a moment in time. This function finds the
matching audio at that moment and measures things like how loud it is
and what frequencies are present.

Audio features are computed for each frame's time window:
\itemize{
\item For shots: uses start_time to end_time.
\item For frames: uses frame_index/fps as center, Â±0.5/fps as window.
}
}
}
\examples{
\dontrun{
# Extract audio features per shot
shots <- video_extract_shots("film.mp4")
shots_with_audio <- extract_audio_features(shots, "film.mp4")

# Extract audio features per frame
frames <- video_extract_frames("film.mp4", fps = 1)
frames_with_audio <- extract_audio_features(frames, "film.mp4", fps = 1)
}
}
\seealso{
Other audio: 
\code{\link{extract_audio_rms}()}
}
\concept{audio}
